### `scp`

>   `scp`是`secure copy`的简写，用于在`Linux`下进行远程拷贝文件的命令，和它类似的命令有`cp`，不过`cp`只是在本机进行拷贝不能跨服务器，而且`scp`传输是加密的，可能会稍微影响一下速度

### `scp`作用

-   我们需要获得远程服务器上的某个文件，远程服务器既没有配置`ftp`服务器，没有开启`web`服务器，也没有做共享，无法通过常规途径获得文件时，只需要通过`scp`命令便可轻松的达到目的；
-   我们需要将本机上的文件上传到远程服务器上，远程服务器没有开启`ftp`服务器或共享，无法通过常规途径上传是，此时也可以通过`scp`命令便可以轻松的达到目的；

### `scp`用法

#### 1、拉取远程服务器上的文件

```shell
############################################################################################
# root											# 用户名
# 10.130.10.82									# 远程服务器IP地址或者服务器别名
# /home/appuser/logs/2018110002ac_docker.tar	# 远程文件
# /tmp/2018110002ac_docker.tar					# 写到本地的文件
############################################################################################
scp root@10.130.10.82:/home/appuser/logs/2018110002ac_docker.tar /tmp/2018110002ac_docker.tar
```

#### 2、拉取远程服务器上的目录

```shell
############################################################################################
# -r									# 递归复制（即复制该目录下面的文件和目录）
# root									# 用户名
# 10.130.10.82							# 远程服务器IP地址或者服务器别名
# /home/appuser/logs/2018110002ac/		# 远程目录
# /tmp/2018110002ac/					# 写到本地的目录
############################################################################################
scp -r root@10.130.10.82:/home/appuser/logs/2018110002ac/ /tmp/2018110002ac/
```

#### 3、将本地文件上传到服务器上

```shell
############################################################################################
# /tmp/2018110002ac_docker.tar					# 本地文件
# root											# 用户名
# 10.130.10.82									# 服务器IP地址或者服务器别名
# /home/appuser/logs/2018110002ac_docker.tar	# 写到远程的文件
############################################################################################
scp /tmp/2018110002ac_docker.tar root@10.130.10.82:/home/appuser/logs/2018110002ac_docker.tar
```

#### 4、将本地目录上传到服务器上

```shell
############################################################################################
# -r									# 递归复制（即复制该目录下面的文件和目录）
# /tmp/2018110002ac/					# 本地目录
# root									# 用户名
# 10.130.10.82							# 服务器IP地址或者服务器别名
# /home/appuser/logs/2018110002/		# 写到远程的目录
############################################################################################
scp -r /tmp/2018110002ac/ root@10.130.10.82:/home/appuser/logs/fisher/edge-center/2018110002ac/
```

### 相关参数

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| `-P` | 端口                                                         |
| `-p` | 表示保持文件权限                                             |
| `-r` | 表示递归复制                                                 |
| `-v` | 和大多数 `linux` 命令中的 `-v` 意思一样，用来显示进度，可以用来查看连接、认证或是配置错误 |
| `-C` | 使能压缩选项                                                 |
| `-4` | 强行使用 `IPV4` 地址                                         |
| `-6` | 强行使用 `IPV6` 地址                                         |







