### 事务

#### MULTI & EXEC（非互斥，原子执行）

>   被multi和exec命令包围的的所有命令会一个一个的执行，知道所有的命令都执行完成。该命令是原子执行，其它客户端仍可能会修改正在操作的数据，在输入命令时如果中间有一条命令有语法错误，那么该命令之后所有的命令都不会执行，但之前的命令会被执行不会被回滚。

#### WATCH & UNWATCH（乐观锁，原子执行）

>   在事务开启前watch了某个K，在事务提交的时候会检查K的值与watch时候的值是否一致，如果不一致，说明数据被其他客户端修改，那么事务的命令队列不会被执行。

  如果使用unwatch命令，那么之前的对所有的K的监控全部取消，哪怕之前检测到watch的K的V发生变化，也不会对事务产生影响。

#### SETNX（排他锁）

>   如果不存在，则设置一个键值对，它是一个原子性的操作





